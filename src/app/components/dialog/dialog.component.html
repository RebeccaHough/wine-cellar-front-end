<h2 mat-dialog-title>{{title}}</h2>

<mat-dialog-content>
  <!-- allow description to specify its own paragraphs etc. -->
  <ng-container *ngIf="description">
    <div [innerHTML]="description"></div>
  </ng-container>

  <!-- Alarms -->
  <ng-container *ngIf="type == 'alarms'">
    The complete list of alarms is shown here:
    <ul>
      <li *ngFor="let alarm of form">
        <p>{{alarm.name}}, {{alarm.condtion}}, {{alarm.isSubscribedTo}}</p>
        <!-- <var 1 dropdown>
          time/temp/hum
        </var 1 dropdown>
        <operator dropdown>
          < > <= >= == 
        </operator dropdown>
        <var 2 input box>
          10
        </var 2 input box> -->
      </li>
    </ul>
    <button mat-button class="mat-raised-button mat-primary">New</button>
    <button mat-button class="mat-raised-button mat-primary">Edit</button>
    <button mat-button class="mat-raised-button mat-primary">Delete</button>
  </ng-container>

  <!-- Email -->
  <ng-container *ngIf="type == 'email'">
    <form class="form" [formGroup]="form">
      <mat-form-field class="full-width">
        <!-- [formControl]="email", could do placeholder text programatically -->
        <input matInput placeholder="Enter your email address" formControlName="email">
        <!-- TODO could do this dynamically (error message), will need to get the [email] better in diff dialog types -->
        <mat-error *ngIf="form.controls.email.invalid && form.controls.email.touched">
          Invalid Email
        </mat-error>
      </mat-form-field>
    </form>
  </ng-container>

  <!-- Report Generation -->
  <ng-container *ngIf="type == 'report'"></ng-container>

  <!-- Data Collection -->
  <ng-container *ngIf="type == 'data'"></ng-container>

</mat-dialog-content>

<mat-dialog-actions align="end">
  <button 
    mat-button 
    class="mat-raised-button mat-accent"
    type="submit" 
    [disabled]="form.invalid"
    (click)="save()">
      Save changes
  </button>
  <button 
    mat-button 
    class="mat-raised-button mat-warn"
    type="button"
    (click)="close()">
      Discard changes
  </button>
</mat-dialog-actions>